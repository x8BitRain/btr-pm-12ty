<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Some basic meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicons -->
    <link rel="icon" type="image/png" href="/icon.png">
    <link rel="favicon" href="favicon.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#000">

    <!-- Set meta tags -->

    <title>Building and optimizing a static website from scratch. | btr.pm</title>
    <meta name="description" content="An adventure in static pages, layouts, web frameworks, image compression and load times. How I built the site you're on right now.">
    <meta property="og:type" content="website">
    <meta property="twitter:card" content="summary_large_image">
    <meta property="og:title" content="Building and optimizing a static website from scratch.">
    <meta property="og:url" content="https://btr.pm/blog/building-a-website-from-scratch">
    <meta name="og:description" content="An adventure in static pages, layouts, web frameworks, image compression and load times. How I built the site you're on right now.">
    <meta property="og:image" content="/_assets/053a653b.jpeg">
    <meta property="twitter:url" content="https://btr.pm/blog/building-a-website-from-scratch">
    <meta property="twitter:title" content="Building and optimizing a static website from scratch.">
    <meta property="twitter:description" content="An adventure in static pages, layouts, web frameworks, image compression and load times. How I built the site you're on right now.">
    <meta property="twitter:image" content="/_assets/053a653b.jpeg">

    <!-- Google fonts async preload etc. -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=B612&amp;display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=B612&amp;display=swap" media="print" onload="this.media='all'">
    <noscript>
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=B612&amp;display=swap">
    </noscript>

    <!-- Page styles will be moved here, see bottom of file -->

    <!-- Capture all CSS included in this page -->
    <!-- Capture href of CSS asset for further use -->
    <!-- In development, just include render-blocking stylesheet -->
    <link rel="stylesheet" href="/_assets/61c5a1a4.css">

  </head>
  <body>
    <!-- Header Component -->

    <header class="header">

      <nav>
        <div class="header_content">
          <a href="/">
            <img width="300" height="100" src="/_assets/images/icons/btr.svg" alt="Home">
          </a>
          <div class="header_content-links">

            <a href="/">
              <button>Photos</button>
            </a>

            <a href="/projects/">
              <button>Projects</button>
            </a>

            <a href="/blog/">
              <button>Blog</button>
            </a>

            <a href="/contact/">
              <button>Contact</button>
            </a>

          </div>
        </div>
      </nav>
    </header>

    <main class="blog_content">
      <article>
        <!-- Page content -->
        <h1>Building and optimizing a static website from scratch.</h1>
        <h5>15 February 2019</h5>
        <p>An adventure in static pages, layouts, web frameworks, image compression and load times.</p>
        <p>
          <picture style="background-color:rgb(33%,36%,34%);padding-bottom:33.67%">
            <source srcset="/_assets/84128d91.avif 160w,/_assets/e2b1efee.avif 320w,/_assets/11ba5e87.avif 480w,/_assets/edec7343.avif 640w,/_assets/268e8cb6.avif 800w,/_assets/c1803fef.avif 960w,/_assets/b2496d98.avif 1120w,/_assets/c3e5b433.avif 1280w,/_assets/d940d131.avif 1440w,/_assets/1d2a7459.avif 1600w,/_assets/311c454c.avif 1760w,/_assets/267a0713.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/95c66544.webp 160w,/_assets/4a74df5d.webp 320w,/_assets/defdeb1a.webp 480w,/_assets/f87cc201.webp 640w,/_assets/fe81ed3e.webp 800w,/_assets/6fd9a609.webp 960w,/_assets/0eb8e416.webp 1120w,/_assets/113900ed.webp 1280w,/_assets/f65eb1fa.webp 1440w,/_assets/d3d52539.webp 1600w,/_assets/26fe99ee.webp 1760w,/_assets/e88bdfbc.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/54e81f61.jpeg 160w,/_assets/16679ba9.jpeg 320w,/_assets/f9f2e9a4.jpeg 480w,/_assets/e4f69819.jpeg 640w,/_assets/df6be5cb.jpeg 800w,/_assets/80fbe0bd.jpeg 960w,/_assets/c7d15c76.jpeg 1120w,/_assets/413e69b9.jpeg 1280w,/_assets/223af064.jpeg 1440w,/_assets/d67b393d.jpeg 1600w,/_assets/4d1300a5.jpeg 1760w,/_assets/9ff70b9f.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/9ff70b9f.jpeg" height="100%" width="100%" alt="Code example" loading="lazy">
          </picture>
        </p>
        <p>I used to host my website on Squarespace, a WYSIWYG website builder and CMS you often see promoted by just about every YouTube channel there is.</p>
        <p>It’s pretty good if you want something easy and conventient but for the $144 per year pricetag for the lowest package, it just doesn’t satisfy my needs.</p>
        <p>So I set out to build my own site from scratch using only HTML5, CSS3 and JS, and optimize it as much as I can, learning as I build it. This writeup contains a few long sections so I’ve made an index so you can skip to the parts you don’t want to read.</p>
        <ul>
          <li><a href="index.html#hosting">Hosting</a></li>
          <li><a href="index.html#layoutandframework">Layout and Framework</a>
            <ul>
              <li><a href="index.html#uikit">UIKit</a></li>
              <li><a href="index.html#imagegallery">Image Gallery</a></li>
            </ul>
          </li>
          <li><a href="index.html#imageoptimization">Image Optimization</a>
            <ul>
              <li><a href="index.html#lazyloading">Lazy Loading</a></li>
            </ul>
          </li>
          <li><a href="index.html#pagespeed">Page Speed</a>
            <ul>
              <li><a href="index.html#contentdeliverynetworkcdn">CDN</a></li>
              <li><a href="index.html#fonts">Fonts</a></li>
              <li><a href="https://btr.pm/blog/building-a-website-from-scratch/">Small Optimizations</a></li>
              <li><a href="index.html#Results">Results</a></li>
            </ul>
          </li>
        </ul>
        <h2>Hosting.</h2>
        <p>How can I host my website for less?</p>
        <p>Seeing as this project is going to be built in HTML, CSS and JS, I’m not going to need a server that runs PHP or a database like WordPress does. It’s just going to be static pages.</p>
        <p>There are several hosting services that exist exclusively for static pages, some of the more popular ones include <a href="https://pages.github.com/">GitHub Pages</a>, <a href="https://www.netlify.com/">Netlify</a> and even Azure. I decided to use <a href="https://firebase.google.com/">Google Firebase</a> because it’s really simple to use as it’s free provided I don’t use over 10GB of bandwidth per month…</p>
        <p>
          <picture style="background-color:rgb(85%,87%,89%);padding-bottom:11.26%">
            <source srcset="/_assets/968a40fa.avif 160w,/_assets/f610e926.avif 320w,/_assets/75063106.avif 480w,/_assets/9b0f4357.avif 640w,/_assets/995269f6.avif 800w,/_assets/10e921b8.avif 960w,/_assets/e5036ee8.avif 1120w,/_assets/13988507.avif 1280w,/_assets/d0b8155e.avif 1440w,/_assets/18378a6c.avif 1600w,/_assets/58a46d30.avif 1760w,/_assets/5bab61cd.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/a13e263a.webp 160w,/_assets/34f68163.webp 320w,/_assets/8818eb7f.webp 480w,/_assets/08ffdb61.webp 640w,/_assets/e53faffd.webp 800w,/_assets/c4bc9b9f.webp 960w,/_assets/f908c68b.webp 1120w,/_assets/7b655279.webp 1280w,/_assets/4a5d1582.webp 1440w,/_assets/115a989f.webp 1600w,/_assets/280f47e7.webp 1760w,/_assets/7cfa0755.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/428ceec6.jpeg 160w,/_assets/6a07edd9.jpeg 320w,/_assets/82a5d5d1.jpeg 480w,/_assets/1f43a10d.jpeg 640w,/_assets/d0be3a4e.jpeg 800w,/_assets/709f0037.jpeg 960w,/_assets/46ad9068.jpeg 1120w,/_assets/80c9588e.jpeg 1280w,/_assets/e8699bb2.jpeg 1440w,/_assets/c58c71da.jpeg 1600w,/_assets/d5649fb8.jpeg 1760w,/_assets/f68dac72.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/f68dac72.jpeg" height="100%" width="100%" alt="Firebase settings" loading="lazy">
          </picture>
        </p>
        <p>That’s kind of an issue considering the images I plan on hosting are about 10.1 MB of images on the home page alone and 40 MB of full resolution. So if 10,000 people were to visit the site in a month I’d run out of my free usage.</p>
        <p>This is fine as I only plan on using Firebase for the hosting temporarily, if I end up using too much bandwidth I’ll likely move the site to a DigitalOcean droplet and get 1 TB of bandwith for $5/month.</p>
        <h2>Layout and Framework</h2>
        <h3>UIKit</h3>
        <p>I decided against building every element of the website from scratch as I’m not that insane. Most websites build off of templates or use existing web frameworks like Bootstrap, vue.js or <a href="https://getmdl.io/">Material Design Lite</a>, <a href="https://materializecss.com">Materialize</a>, etc.</p>
        <p>I really like the minimalist look and ease of use that <a href="https://getuikit.com">UIKit</a> offers, it has dozens of components with several parameters, icons and great documentation to go with it.</p>
        <p>
          <picture style="background-color:rgb(88%,94%,98%);padding-bottom:41.8%">
            <source srcset="/_assets/c0e6f3ef.avif 160w,/_assets/8116d6e0.avif 320w,/_assets/89f49811.avif 480w,/_assets/b453934f.avif 640w,/_assets/3607f05f.avif 800w,/_assets/f10c62a7.avif 960w,/_assets/1d9804dc.avif 1120w,/_assets/b874af79.avif 1280w,/_assets/4727a7b4.avif 1440w,/_assets/18bc6e0d.avif 1600w,/_assets/a2397500.avif 1760w,/_assets/6d9280ae.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/aeb480fd.webp 160w,/_assets/737589f6.webp 320w,/_assets/ca129ec7.webp 480w,/_assets/a9ffa455.webp 640w,/_assets/5ed167ab.webp 800w,/_assets/d27e7172.webp 960w,/_assets/474cb6e5.webp 1120w,/_assets/3fa546f7.webp 1280w,/_assets/8b7c9137.webp 1440w,/_assets/349a3d1a.webp 1600w,/_assets/a37b9033.webp 1760w,/_assets/0287b81e.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/a7e334ef.jpeg 160w,/_assets/f73b1317.jpeg 320w,/_assets/1a861056.jpeg 480w,/_assets/e89797fa.jpeg 640w,/_assets/ada256c0.jpeg 800w,/_assets/b1c4b9a9.jpeg 960w,/_assets/ce894cd3.jpeg 1120w,/_assets/110c0f2a.jpeg 1280w,/_assets/e8e8b42d.jpeg 1440w,/_assets/fced672e.jpeg 1600w,/_assets/5406d6ae.jpeg 1760w,/_assets/2868abc2.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/2868abc2.jpeg" height="100%" width="100%" alt="UIKit" loading="lazy">
          </picture>
        </p>
        <p><a href="https://getuikit.com/docs/card">https://getuikit.com/docs/card</a></p>
        <p>I can basically browse their list of components, copy the example markup and plug it into any divs I like and the whole thing is responsive out of the box, you only have to import one JavaScript and CSS library to get it working too.</p>
        <h3>Image Gallery</h3>
        <p>The first thing I want people to see when they visit the site is an image gallery of my pictures, and it has to do 2 things right in order to satisfy my needs.</p>
        <ul>
          <li>Be responsive.</li>
          <li>Organize itself into a grid that leaves no gaps.</li>
        </ul>
        <p>This is easier said than done, basically I’m looking for a Google Photos implementation that doesn’t involve <a href="https://medium.com/google-design/google-photos-45b714dfbed1">complex mathematical theory</a> to achieve. The first implementation I found was exactly what I needed by Justin Klemm. Unfortunately it’s written in JQuery 2.1.3 from 2013, so I’m not going to import a 5+ year old JavaScript library to run an image gallery that doesn’t even display properly in latest Firefox.</p>
        <p>I also found this post by <a href="https://github.com/xieranmaya/blog/issues/6">xieranmaya</a> detailing his “pure CSS” implementation of Google Photos’ layout. Only problem is it relies on AngularJS to do the needed math to scale the images properly.</p>
        <p>
          <picture style="background-color:rgb(21%,24%,21%);padding-bottom:10.294%">
            <source srcset="/_assets/7a8c5e06.avif 160w,/_assets/7ef217ca.avif 320w,/_assets/898a9f71.avif 480w,/_assets/13ac7273.avif 640w,/_assets/c94a8a81.avif 800w,/_assets/6c47457f.avif 960w,/_assets/4552bbd8.avif 1120w,/_assets/72f42d0d.avif 1280w,/_assets/b48304fd.avif 1440w,/_assets/69d523c4.avif 1600w,/_assets/0c2e661e.avif 1760w,/_assets/9d0b244e.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/a5ecdfb4.webp 160w,/_assets/df6e4c7a.webp 320w,/_assets/8916d441.webp 480w,/_assets/be022534.webp 640w,/_assets/41a7e0ba.webp 800w,/_assets/08cb55e4.webp 960w,/_assets/8b9a9e28.webp 1120w,/_assets/44b38d1d.webp 1280w,/_assets/d77830f4.webp 1440w,/_assets/74df191d.webp 1600w,/_assets/51a4175b.webp 1760w,/_assets/88f0aa46.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/389bd5ec.jpeg 160w,/_assets/9f21230f.jpeg 320w,/_assets/63043104.jpeg 480w,/_assets/86716748.jpeg 640w,/_assets/62e2ed48.jpeg 800w,/_assets/321cf619.jpeg 960w,/_assets/43266816.jpeg 1120w,/_assets/169d1c51.jpeg 1280w,/_assets/1f975830.jpeg 1440w,/_assets/c3119dd6.jpeg 1600w,/_assets/1382dcf3.jpeg 1760w,/_assets/c9713a63.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/c9713a63.jpeg" height="100%" width="100%" alt="Code" loading="lazy">
          </picture>
        </p>
        <p>Yeah you can’t do that with CSS alone :/</p>
        <p>I was considering rewriting this in regular Javascript to avoid having to import more JS libraries that only get used for one specific thing when I realized UIKit already has a grid component I can potentially use.</p>
        <p>
          <picture style="background-color:rgb(100%,100%,100%);padding-bottom:93.148%">
            <source srcset="/_assets/0a65fe2f.avif 160w,/_assets/34ccd263.avif 320w,/_assets/dc21f642.avif 480w,/_assets/9ee24702.avif 640w,/_assets/ba88f568.avif 800w,/_assets/dfc96b54.avif 960w,/_assets/8b80103d.avif 1120w,/_assets/0fd0ef77.avif 1280w,/_assets/53d5479e.avif 1440w,/_assets/acdccbcc.avif 1600w,/_assets/60b8fff6.avif 1760w,/_assets/32d93d90.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/021b56f7.webp 160w,/_assets/164abc59.webp 320w,/_assets/a840ff09.webp 480w,/_assets/9675b6c5.webp 640w,/_assets/fc79e3bb.webp 800w,/_assets/f342cdca.webp 960w,/_assets/63cb2af9.webp 1120w,/_assets/e02ed703.webp 1280w,/_assets/d1c74ec7.webp 1440w,/_assets/22c55342.webp 1600w,/_assets/54f286a0.webp 1760w,/_assets/bc0f1e97.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/13b2f2e4.jpeg 160w,/_assets/49bcfdad.jpeg 320w,/_assets/1b301203.jpeg 480w,/_assets/1a31ac66.jpeg 640w,/_assets/eff76688.jpeg 800w,/_assets/b45383b3.jpeg 960w,/_assets/5a5b5eb5.jpeg 1120w,/_assets/ac8f58f3.jpeg 1280w,/_assets/12ec1193.jpeg 1440w,/_assets/efb6ab78.jpeg 1600w,/_assets/10d17b36.jpeg 1760w,/_assets/5ce533dd.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/5ce533dd.jpeg" height="100%" width="100%" alt="UIKit Gallery" loading="lazy">
          </picture>
        </p>
        <p>A cool feature of UIKit’s grid component is that you can enable a masonry layout just by adding the “masonry: true” attribute to the grid’s div, damn, that was easy. Now all I have to do is insert images in the place of the cards they have in the example and I now have a gallery that ticks all the boxes.</p>
        <p>
          <picture style="background-color:rgb(25%,25%,24%);padding-bottom:65.979%">
            <source srcset="/_assets/358d5a8d.avif 160w,/_assets/36fc57d2.avif 320w,/_assets/79e2fb05.avif 480w,/_assets/89ebf466.avif 640w,/_assets/1a090eb1.avif 800w,/_assets/b81ce282.avif 960w,/_assets/c94c54b5.avif 1120w,/_assets/fc86cfd2.avif 1280w,/_assets/57e8c221.avif 1440w,/_assets/ee023ec0.avif 1600w,/_assets/aafa7432.avif 1760w,/_assets/60821dca.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/35f907ca.webp 160w,/_assets/02cc795b.webp 320w,/_assets/38b9e4cc.webp 480w,/_assets/d092a18e.webp 640w,/_assets/2ffd7bf6.webp 800w,/_assets/8ec6851a.webp 960w,/_assets/e1d4f9fe.webp 1120w,/_assets/cb96c625.webp 1280w,/_assets/8abe7145.webp 1440w,/_assets/3ba56e9c.webp 1600w,/_assets/f0286eb8.webp 1760w,/_assets/5ea615a8.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/5b57a4a1.jpeg 160w,/_assets/12db41e6.jpeg 320w,/_assets/4bd7134d.jpeg 480w,/_assets/704c7c72.jpeg 640w,/_assets/603e368a.jpeg 800w,/_assets/48988f42.jpeg 960w,/_assets/15d26478.jpeg 1120w,/_assets/73169cf4.jpeg 1280w,/_assets/6614fa4f.jpeg 1440w,/_assets/615ac15f.jpeg 1600w,/_assets/22f8e818.jpeg 1760w,/_assets/f7cb0f66.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/f7cb0f66.jpeg" height="100%" width="100%" alt="Photo Gallery" loading="lazy">
          </picture>
        </p>
        <p>Enabling the lightbox is just as easy, I just had to insert “uk-lightbox” into the div that contains the images and it will bring up an image lightbox provided the images are wrapped in an <a href=""> referencing the image you want the lightbox to display.</a></p><a href="">
          <p>
            <picture style="background-color:rgb(22%,25%,21%);padding-bottom:7.523%">
              <source srcset="/_assets/40dbede6.avif 160w,/_assets/4a69855a.avif 320w,/_assets/8923d548.avif 480w,/_assets/b4a9f993.avif 640w,/_assets/10bc604b.avif 800w,/_assets/15c21f6e.avif 960w,/_assets/7749390b.avif 1120w,/_assets/7629596a.avif 1280w,/_assets/bb465814.avif 1440w,/_assets/aa027eb9.avif 1600w,/_assets/d577b2b6.avif 1760w,/_assets/5802c619.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
              <source srcset="/_assets/85a4a05f.webp 160w,/_assets/77e32fd6.webp 320w,/_assets/f247d85d.webp 480w,/_assets/a8a45524.webp 640w,/_assets/318c1c03.webp 800w,/_assets/69543675.webp 960w,/_assets/3a368902.webp 1120w,/_assets/ff52d0e1.webp 1280w,/_assets/542253c4.webp 1440w,/_assets/a4b698ca.webp 1600w,/_assets/a1877932.webp 1760w,/_assets/45a17ac5.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
              <source srcset="/_assets/41b3d3a9.jpeg 160w,/_assets/37a11b01.jpeg 320w,/_assets/ce401c5d.jpeg 480w,/_assets/040d0f5f.jpeg 640w,/_assets/53f79aee.jpeg 800w,/_assets/6f4e7485.jpeg 960w,/_assets/1fde3dd5.jpeg 1120w,/_assets/2c4d775d.jpeg 1280w,/_assets/af7e9b77.jpeg 1440w,/_assets/9bf2ea0d.jpeg 1600w,/_assets/a89e5c13.jpeg 1760w,/_assets/40050644.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
              <img src="/_assets/40050644.jpeg" height="100%" width="100%" alt="Code" loading="lazy">
            </picture>
          </p>
          <p>A single div with a few parameters gives you a great image gallery.</p>
          <h3>Image Optimization.</h3>
          <p>Because I’m trying to optimize the website for speed, having 100 high res images on the home page isn’t a great idea, so how can I force it to work?</p>
          <p>I created two sets of the same image gallery, one set of the gallery is scaled down and compressed thumbnail images for use on the homepage, about 1200x800. The other set is high resolution optimized images for use in the lightbox, about 2000x1300. I’m using 1200x800 thumbnails because when you scale down a large image to a smaller size, it still looks quite sharp. So if I compress 1200x800 images that don’t look amazingly clear when viewed in full and display them at 500x300, they look decently sharp.</p>
          <p>
            <picture style="background-color:rgb(36%,36%,36%);padding-bottom:7.992%">
              <source srcset="/_assets/a702ef06.avif 160w,/_assets/a7566db8.avif 320w,/_assets/c915e743.avif 480w,/_assets/12edbd97.avif 640w,/_assets/e5fb9db4.avif 800w,/_assets/69826fe6.avif 960w,/_assets/894cb490.avif 1120w,/_assets/743351f9.avif 1280w,/_assets/1cc4b559.avif 1440w,/_assets/679ca51f.avif 1600w,/_assets/4876fb18.avif 1760w,/_assets/ebe69043.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
              <source srcset="/_assets/0855513f.webp 160w,/_assets/e040917b.webp 320w,/_assets/4e582843.webp 480w,/_assets/30ef2ad8.webp 640w,/_assets/e722477a.webp 800w,/_assets/faf653ec.webp 960w,/_assets/cefc682b.webp 1120w,/_assets/5fa08265.webp 1280w,/_assets/7cbb3f8b.webp 1440w,/_assets/3f0a7fcd.webp 1600w,/_assets/fbd53e25.webp 1760w,/_assets/d4271e67.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
              <source srcset="/_assets/2cc3c868.jpeg 160w,/_assets/b1a0df7a.jpeg 320w,/_assets/0f233ae3.jpeg 480w,/_assets/2426c307.jpeg 640w,/_assets/55f22e91.jpeg 800w,/_assets/918ffafe.jpeg 960w,/_assets/e667212b.jpeg 1120w,/_assets/4c2555ef.jpeg 1280w,/_assets/169aa3ca.jpeg 1440w,/_assets/dc21499d.jpeg 1600w,/_assets/ed0bf600.jpeg 1760w,/_assets/d39fdd99.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
              <img src="/_assets/d39fdd99.jpeg" height="100%" width="100%" alt="Compression command" loading="lazy">
            </picture>
          </p>
          <p>I experimented with MozJPG and compressing the images with the MS-SSIM compression algorithm and got pretty amazing results. 13.81% of the original image’s size with almost no detectable difference.</p>
          <p>
            <picture style="background-color:rgb(27%,30%,20%);padding-bottom:36.954%">
              <source srcset="/_assets/f9dd2320.avif 160w,/_assets/455bb5c7.avif 320w,/_assets/60a8ffc7.avif 480w,/_assets/bda17313.avif 640w,/_assets/5dcf92a6.avif 800w,/_assets/e2cc62a9.avif 960w,/_assets/8742981e.avif 1120w,/_assets/4f200cf2.avif 1280w,/_assets/8986988f.avif 1440w,/_assets/e8355c0d.avif 1600w,/_assets/aee99325.avif 1760w,/_assets/f2990923.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
              <source srcset="/_assets/12e96f80.webp 160w,/_assets/235434ae.webp 320w,/_assets/ab8e7c67.webp 480w,/_assets/ad536473.webp 640w,/_assets/1fd9c33c.webp 800w,/_assets/866d38e1.webp 960w,/_assets/6eb4652f.webp 1120w,/_assets/3e0dc3aa.webp 1280w,/_assets/3ebcca15.webp 1440w,/_assets/84ebfda3.webp 1600w,/_assets/552f841c.webp 1760w,/_assets/2cd436b9.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
              <source srcset="/_assets/7ac3aa3d.jpeg 160w,/_assets/cd7b1ba3.jpeg 320w,/_assets/c8dbd6d6.jpeg 480w,/_assets/70ee63ac.jpeg 640w,/_assets/4f25ff6b.jpeg 800w,/_assets/0a932403.jpeg 960w,/_assets/fde991a8.jpeg 1120w,/_assets/f4154893.jpeg 1280w,/_assets/40e1c793.jpeg 1440w,/_assets/ed2c4030.jpeg 1600w,/_assets/1b2305ac.jpeg 1760w,/_assets/04e5c360.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
              <img src="/_assets/04e5c360.jpeg" height="100%" width="100%" alt="Image Comparison" loading="lazy">
            </picture>
          </p>
          <p>Left: Un-optimized - Right: Optimized</p>
          <p>Then I thought I’d try WebP because it’s basically built for exactly what I’m trying to do, optimize images for the web, conserve bandwidth and retain quality. The results I got from compressing with WebP are pretty crazy.</p>
          <p>
            <picture style="background-color:rgb(31%,34%,25%);padding-bottom:58.202%">
              <source srcset="/_assets/ee43e5da.avif 160w,/_assets/f9a355f2.avif 320w,/_assets/a991796d.avif 480w,/_assets/ecfb41e6.avif 640w,/_assets/8b0b7724.avif 800w,/_assets/9771795f.avif 960w,/_assets/4f45e65c.avif 1120w,/_assets/e64dd522.avif 1280w,/_assets/a0ac0992.avif 1440w,/_assets/1ce2d571.avif 1600w,/_assets/f7175930.avif 1760w,/_assets/e735212e.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
              <source srcset="/_assets/578b7daf.webp 160w,/_assets/83203cca.webp 320w,/_assets/84f4ad7f.webp 480w,/_assets/50ca274e.webp 640w,/_assets/5187c274.webp 800w,/_assets/c8beb437.webp 960w,/_assets/139ce6b3.webp 1120w,/_assets/883ed050.webp 1280w,/_assets/6a6aea3e.webp 1440w,/_assets/420543e6.webp 1600w,/_assets/005c7574.webp 1760w,/_assets/9f1ec685.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
              <source srcset="/_assets/813641de.jpeg 160w,/_assets/9234be2b.jpeg 320w,/_assets/8c6b9781.jpeg 480w,/_assets/906add49.jpeg 640w,/_assets/702c8425.jpeg 800w,/_assets/81eaa020.jpeg 960w,/_assets/73c9e97f.jpeg 1120w,/_assets/6c118400.jpeg 1280w,/_assets/1ba10951.jpeg 1440w,/_assets/bfd1b9c0.jpeg 1600w,/_assets/dec16f92.jpeg 1760w,/_assets/21abadbd.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
              <img src="/_assets/21abadbd.jpeg" height="100%" width="100%" alt="Image comparison 2" loading="lazy">
            </picture>
          </p>
          <p>Left: Optimized JPG - Right: WebP</p>
          <p>The Optimized JPG comes out at 93.3 KB and the WebP brings it down to 30.5 KB with almost no quality difference, what the hell? How!?</p>
        </a>
        <p><a href="">The entire set of 101 images in WebP comes out to 10.1 MB versus 12.2 MB in JPG. These are the settings I used on the pictures with the </a><a href="https://developers.google.com/speed/webp/download">cwebp utility</a>.</p>
        <pre class="language-bash"><code class="language-bash">cwebp -preset photo -sharp<span class="token punctuation">\</span>_yuv -m <span class="token number">6</span> -pass <span class="token number">10</span> -q <span class="token number">75</span> <span class="token string">"\[file\]"</span> -o <span class="token string">"\[file\].webp"</span></code></pre>
        <p>As great as WebP seems, there are still some browsers that just don’t support it, mainly Safari as of writing this. So for compatability reasons I have to add this fallback to almost every img tag.</p>
        <pre class="language-html"><code class="language-html">onerror="this.onerror=null; this.src='/img/location/img.jpg'"</code></pre>
        <h3>Lazy Loading</h3>
        <p>Despite the images being optimized so well it still leads to 10 MB loaded every time you load the homepage. Fortunately UIKit paired with the latest browsers should lazy load the images, meaning once you scroll into the view of the image it will start to load, instead of all at the same time. That means we the page only loads about 1MB of images in the initial viewport. This doesn’t happen on all browsers unfortunately.</p>
        <p>
          <picture style="background-color:rgb(91%,93%,94%);padding-bottom:21.843%">
            <source srcset="/_assets/bbc00cea.avif 160w,/_assets/83edff1e.avif 320w,/_assets/3dca91e4.avif 480w,/_assets/933bcb65.avif 640w,/_assets/21cdc365.avif 800w,/_assets/dc7cf4e8.avif 960w,/_assets/096e8a0d.avif 1120w,/_assets/b629f48f.avif 1280w,/_assets/15c63de7.avif 1440w,/_assets/8fcd2c00.avif 1600w,/_assets/1be7d7c2.avif 1760w,/_assets/e5dbc8c5.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/d8aded46.webp 160w,/_assets/7224fb8e.webp 320w,/_assets/a6b8e307.webp 480w,/_assets/8bf9b77d.webp 640w,/_assets/e23b5d79.webp 800w,/_assets/402b3af4.webp 960w,/_assets/1f48fc87.webp 1120w,/_assets/02799a2e.webp 1280w,/_assets/97583f2e.webp 1440w,/_assets/5fdd2660.webp 1600w,/_assets/665f221c.webp 1760w,/_assets/da7a1bbe.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/93fdea42.jpeg 160w,/_assets/c5c04665.jpeg 320w,/_assets/7fc0780a.jpeg 480w,/_assets/083cbe92.jpeg 640w,/_assets/df3b091c.jpeg 800w,/_assets/cb3eefc6.jpeg 960w,/_assets/87ffad0e.jpeg 1120w,/_assets/083e4cef.jpeg 1280w,/_assets/53c701b9.jpeg 1440w,/_assets/8a777d35.jpeg 1600w,/_assets/e462aa50.jpeg 1760w,/_assets/d6f0d8e6.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/d6f0d8e6.jpeg" height="100%" width="100%" alt="Requests in devtools" loading="lazy">
          </picture>
        </p>
        <p>When clicking on an image it will load the higher resolution version of the image for better viewing, this is doable by wrapping the image in the gallery with an <a href=""> pointing to the location of the larger image you want to display in UIKit’s lightbox.</a></p><a href="">
          <p>
            <picture style="background-color:rgb(24%,28%,22%);padding-bottom:9.572%">
              <source srcset="/_assets/d3bda3ee.avif 160w,/_assets/c5dac521.avif 320w,/_assets/599a10ff.avif 480w,/_assets/3282b938.avif 640w,/_assets/98dbc7cb.avif 800w,/_assets/0ad5feca.avif 960w,/_assets/237b5fec.avif 1120w,/_assets/cee9458c.avif 1280w,/_assets/ad66787e.avif 1440w,/_assets/2fd4bccd.avif 1600w,/_assets/7b2f1b20.avif 1760w,/_assets/a3ff2d20.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
              <source srcset="/_assets/beb9d9e3.webp 160w,/_assets/6ed3a092.webp 320w,/_assets/216b47a9.webp 480w,/_assets/f5448ee2.webp 640w,/_assets/d315d63e.webp 800w,/_assets/c8a5ab9e.webp 960w,/_assets/f8a5caad.webp 1120w,/_assets/0eeff6d9.webp 1280w,/_assets/55507e25.webp 1440w,/_assets/8aebf51f.webp 1600w,/_assets/38d6acd7.webp 1760w,/_assets/5a510a3b.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
              <source srcset="/_assets/bfc39664.jpeg 160w,/_assets/0de3b4b0.jpeg 320w,/_assets/64f7976e.jpeg 480w,/_assets/028dcc2f.jpeg 640w,/_assets/98a08c33.jpeg 800w,/_assets/db1884d7.jpeg 960w,/_assets/4fb107f3.jpeg 1120w,/_assets/0b3b69be.jpeg 1280w,/_assets/c861065f.jpeg 1440w,/_assets/bb2048d5.jpeg 1600w,/_assets/2e596b92.jpeg 1760w,/_assets/37fdfa2c.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
              <img src="/_assets/37fdfa2c.jpeg" height="100%" width="100%" alt="HTML" loading="lazy">
            </picture>
          </p>
          <p>The img/ folder is where the larger images are stored while “img-s/” is where the thumbnails are stored.</p>
          <h2>Page Speed</h2>
          <h3>Content Delivery Network (CDN)</h3>
          <p>I made use of CloudFlare to further optimize the load times of the website, CloudFlare has great features for free users, the ones I use are the Caching features to set the browser cache expiration time to 2 days. The Auto Minify function to cut down the size of the HTML, stylesheets and JavaScript files in use on the site.</p>
          <p>
            <picture style="background-color:rgb(97%,97%,97%);padding-bottom:14.361%">
              <source srcset="/_assets/4097e8b7.avif 160w,/_assets/ded2ac45.avif 320w,/_assets/7929fa4c.avif 480w,/_assets/d8e30c6e.avif 640w,/_assets/b0ded3e8.avif 800w,/_assets/8898b125.avif 960w,/_assets/3bbecc02.avif 1120w,/_assets/a1a601ad.avif 1280w,/_assets/1af8647d.avif 1440w,/_assets/4553ce48.avif 1600w,/_assets/ac1f0c84.avif 1760w,/_assets/f6fed03b.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
              <source srcset="/_assets/5c136499.webp 160w,/_assets/78c97078.webp 320w,/_assets/fad8b020.webp 480w,/_assets/6eb56ee9.webp 640w,/_assets/fca6a77c.webp 800w,/_assets/f80c5dd1.webp 960w,/_assets/496ce34e.webp 1120w,/_assets/81a7a1b3.webp 1280w,/_assets/cb31532f.webp 1440w,/_assets/01cfca34.webp 1600w,/_assets/b8d2cf7c.webp 1760w,/_assets/caa7140b.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
              <source srcset="/_assets/273666c2.jpeg 160w,/_assets/fc87f3cc.jpeg 320w,/_assets/f17df6a6.jpeg 480w,/_assets/565bf280.jpeg 640w,/_assets/9f6a7167.jpeg 800w,/_assets/45383c22.jpeg 960w,/_assets/730d3e85.jpeg 1120w,/_assets/e0aa9609.jpeg 1280w,/_assets/a8da854d.jpeg 1440w,/_assets/d94309cf.jpeg 1600w,/_assets/bce52fc5.jpeg 1760w,/_assets/bd08e94d.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
              <img src="/_assets/bd08e94d.jpeg" height="100%" width="100%" alt="Cloudflare options" loading="lazy">
            </picture>
          </p>
          <p>I also used their domain forwarding page rule to forward www. to the root domain and to ensure SSL is always in use.</p>
          <h3>Fonts</h3>
        </a>
        <p><a href="">On the site I’m using a pretty obscure font called </a><a href="https://b612-font.com/">B612</a>, it’s a font commissioned by Airbus and made by Intactile Design that aims to improve legibility of text on cockpit screens. I think it looks really cool and adds a unique style to the site. I experimented with hosting the fonts on the server rather than requesting the font through Google Fonts.</p>
        <p>
          <picture style="background-color:rgba(88%,88%,89%,100%);padding-bottom:4.889%">
            <source srcset="/_assets/059b4806.avif 160w,/_assets/92a0a2fb.avif 320w,/_assets/d1532ffe.avif 480w,/_assets/fbeab742.avif 640w,/_assets/a332308a.avif 800w,/_assets/759b703c.avif 960w,/_assets/ffaff023.avif 1120w,/_assets/aca54bf8.avif 1280w,/_assets/8c36a5ef.avif 1440w,/_assets/3e87af3e.avif 1600w,/_assets/3244d652.avif 1760w,/_assets/0b50237d.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/dff13183.webp 160w,/_assets/e61d957f.webp 320w,/_assets/00c752ca.webp 480w,/_assets/77dcbbd2.webp 640w,/_assets/3b69dd37.webp 800w,/_assets/cb7d475a.webp 960w,/_assets/2c09368b.webp 1120w,/_assets/06bef65a.webp 1280w,/_assets/2bfd33e2.webp 1440w,/_assets/fd3cd696.webp 1600w,/_assets/1bbd38b6.webp 1760w,/_assets/106b29bc.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/58757571.png 160w,/_assets/668cb5ac.png 320w,/_assets/afee365f.png 480w,/_assets/617f6022.png 640w,/_assets/c5569263.png 800w,/_assets/f355bf0b.png 960w,/_assets/4a3ed30b.png 1120w,/_assets/550d2f7e.png 1280w,/_assets/9d2d438f.png 1440w,/_assets/2eb398ea.png 1600w,/_assets/fe40f8c7.png 1760w,/_assets/60ea800b.png 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/png">
            <img src="/_assets/60ea800b.png" height="100%" width="100%" alt="Devtools requests" loading="lazy">
          </picture>
        </p>
        <p>Hosting the fonts on the server.</p>
        <p>
          <picture style="background-color:rgb(89%,87%,87%);padding-bottom:6.793%">
            <source srcset="/_assets/2da9c98e.avif 160w,/_assets/8d776091.avif 320w,/_assets/95d543d1.avif 480w,/_assets/08d4d6c0.avif 640w,/_assets/375d9111.avif 800w,/_assets/451b0ea0.avif 960w,/_assets/512ef65c.avif 1120w,/_assets/7b3eadb2.avif 1280w,/_assets/fce4bd21.avif 1440w,/_assets/36c26824.avif 1600w,/_assets/cc5391b3.avif 1760w,/_assets/c4704888.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/bc7c012c.webp 160w,/_assets/43ef0bbc.webp 320w,/_assets/93272483.webp 480w,/_assets/ae7e3cf8.webp 640w,/_assets/078e9a8a.webp 800w,/_assets/b236feb7.webp 960w,/_assets/cf45de1b.webp 1120w,/_assets/2897d45e.webp 1280w,/_assets/2a3442fa.webp 1440w,/_assets/41d6f1f3.webp 1600w,/_assets/1c6645ea.webp 1760w,/_assets/6a55789f.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/d5c5d6ea.jpeg 160w,/_assets/b670d626.jpeg 320w,/_assets/37d48807.jpeg 480w,/_assets/5194c89c.jpeg 640w,/_assets/307ec7e3.jpeg 800w,/_assets/3ccb080e.jpeg 960w,/_assets/a64139c8.jpeg 1120w,/_assets/13980223.jpeg 1280w,/_assets/aa9f2819.jpeg 1440w,/_assets/9e623097.jpeg 1600w,/_assets/fa5cdb0c.jpeg 1760w,/_assets/0f6e6835.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/0f6e6835.jpeg" height="100%" width="100%" alt="Devtools resource loading speed" loading="lazy">
          </picture>
        </p>
        <p>Importing from Google Fonts.</p>
        <p>That’s a 3.6 second difference. This is because Google Fonts will intelligently serve only the fonts needed rather than every variation of the font, meant also meant that the CSS for loading the font went from this:</p>
        <p>
          <picture style="background-color:rgba(21%,22%,20%,100%);padding-bottom:12.647%">
            <source srcset="/_assets/95c87b21.avif 160w,/_assets/9a882570.avif 320w,/_assets/242d37d3.avif 480w,/_assets/c722a022.avif 640w,/_assets/e4ee1192.avif 800w,/_assets/05ec348f.avif 960w,/_assets/f7f7ad0c.avif 1120w,/_assets/213a8407.avif 1280w,/_assets/a110d9eb.avif 1440w,/_assets/2f27e6df.avif 1600w,/_assets/482b90e2.avif 1760w,/_assets/9754163d.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/3729e56b.webp 160w,/_assets/37839af2.webp 320w,/_assets/5b5111ae.webp 480w,/_assets/1e18c80d.webp 640w,/_assets/7e29ce6a.webp 800w,/_assets/1f676d78.webp 960w,/_assets/c4f4f1e0.webp 1120w,/_assets/31b89620.webp 1280w,/_assets/084a6963.webp 1440w,/_assets/c40498ef.webp 1600w,/_assets/5ddc3cea.webp 1760w,/_assets/279bb198.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/b5834562.png 160w,/_assets/e60fd967.png 320w,/_assets/1cb3866d.png 480w,/_assets/fa5dd2ee.png 640w,/_assets/0f7c6023.png 800w,/_assets/b2f436a3.png 960w,/_assets/c335c46d.png 1120w,/_assets/13ad32a4.png 1280w,/_assets/325c1fd1.png 1440w,/_assets/1032b3bc.png 1600w,/_assets/6755f018.png 1760w,/_assets/93a77ed9.png 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/png">
            <img src="/_assets/93a77ed9.png" height="100%" width="100%" alt="Minified CSS in head" loading="lazy">
          </picture>
        </p>
        <p>To this:</p>
        <p>
          <picture style="background-color:rgba(19%,18%,16%,100%);padding-bottom:9.091%">
            <source srcset="/_assets/659fc6da.avif 160w,/_assets/81ed1eac.avif 320w,/_assets/22205225.avif 480w,/_assets/e331b824.avif 640w,/_assets/bb92f9d0.avif 800w,/_assets/0a76ebd3.avif 960w,/_assets/5172650e.avif 1120w,/_assets/0cec4190.avif 1280w,/_assets/4760066f.avif 1440w,/_assets/d06fcb49.avif 1600w,/_assets/2b87112e.avif 1760w,/_assets/6e07a365.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/54024098.webp 160w,/_assets/c861a4c5.webp 320w,/_assets/d69b769d.webp 480w,/_assets/ea37a20e.webp 640w,/_assets/9e9157b5.webp 800w,/_assets/00caaf2a.webp 960w,/_assets/1cf35c1a.webp 1120w,/_assets/371d27c0.webp 1280w,/_assets/ed3a4fbf.webp 1440w,/_assets/7156e762.webp 1600w,/_assets/7820940c.webp 1760w,/_assets/7f7330ee.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/fc2c3c70.png 160w,/_assets/0af5d458.png 320w,/_assets/b00af84e.png 480w,/_assets/f3ab7331.png 640w,/_assets/00db6a1e.png 800w,/_assets/16854cca.png 960w,/_assets/fb4cbea0.png 1120w,/_assets/ee5a37cd.png 1280w,/_assets/1c84386d.png 1440w,/_assets/b8df5058.png 1600w,/_assets/0b5d090d.png 1760w,/_assets/ed10a1af.png 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/png">
            <img src="/_assets/ed10a1af.png" height="100%" width="100%" alt="Inline style for fonts" loading="lazy">
          </picture>
        </p>
        <h3>Small Optimizations.</h3>
        <p>I put:</p>
        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dns-prefetch<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//cdnjs.cloudflare.com<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dns-prefetch<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>//btrdotpm.firebaseapp.com<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></code></pre>
        <p>Into the <code>&lt;head&gt;</code> of all documents so it resolves CDNJS and the firebaseapp subdomain the content is hosted on early so it doesn’t have to resolve those domains for every new image that gets loaded.</p>
        <p>UIKit comes with a JS library that contains a few dozen SVG icons you can use anywhere but I only use 5 of them, instead of importing a whole set of 50+ SVG icons on all pages I stored only the ones in use on the server and embedded them with <img src="">.</p>
        <pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/x8BitRain<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img/github.svg<span class="token punctuation">"</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre>
        <p>Annoyingly, most of UIKit’s CSS and JS libraries go unused as I only include 4 components on the home page. I could shave a lot of KBs off the load time if I were to pick out only the parts of the CSS and JS that are in use but the convenience of the CDN embedding the latest UIKit libraries outweighs the shorter load time of having less CSS/JS.</p>
        <p>
          <picture style="background-color:rgb(89%,87%,87%);padding-bottom:6.793%">
            <source srcset="/_assets/2da9c98e.avif 160w,/_assets/8d776091.avif 320w,/_assets/95d543d1.avif 480w,/_assets/08d4d6c0.avif 640w,/_assets/375d9111.avif 800w,/_assets/451b0ea0.avif 960w,/_assets/512ef65c.avif 1120w,/_assets/7b3eadb2.avif 1280w,/_assets/fce4bd21.avif 1440w,/_assets/36c26824.avif 1600w,/_assets/cc5391b3.avif 1760w,/_assets/c4704888.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/bc7c012c.webp 160w,/_assets/43ef0bbc.webp 320w,/_assets/93272483.webp 480w,/_assets/ae7e3cf8.webp 640w,/_assets/078e9a8a.webp 800w,/_assets/b236feb7.webp 960w,/_assets/cf45de1b.webp 1120w,/_assets/2897d45e.webp 1280w,/_assets/2a3442fa.webp 1440w,/_assets/41d6f1f3.webp 1600w,/_assets/1c6645ea.webp 1760w,/_assets/6a55789f.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/d5c5d6ea.jpeg 160w,/_assets/b670d626.jpeg 320w,/_assets/37d48807.jpeg 480w,/_assets/5194c89c.jpeg 640w,/_assets/307ec7e3.jpeg 800w,/_assets/3ccb080e.jpeg 960w,/_assets/a64139c8.jpeg 1120w,/_assets/13980223.jpeg 1280w,/_assets/aa9f2819.jpeg 1440w,/_assets/9e623097.jpeg 1600w,/_assets/fa5cdb0c.jpeg 1760w,/_assets/0f6e6835.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/0f6e6835.jpeg" height="100%" width="100%" alt="Devtools resource loading times" loading="lazy">
          </picture>
        </p>
        <h2>Results</h2>
        <p>The finished product is a pretty quick site with a PageSpeed Insights score of 96 on mobile and 100 on desktop, of course it’s not the fastest it can be but I’m pretty happy with the results.</p>
        <p>
          <picture style="background-color:rgb(94%,96%,95%);padding-bottom:25.389%">
            <source srcset="/_assets/54057932.avif 160w,/_assets/6c8ce568.avif 320w,/_assets/f74cf86e.avif 480w,/_assets/a96cfcad.avif 640w,/_assets/539fd32d.avif 800w,/_assets/9939414b.avif 960w,/_assets/bbc66a26.avif 1120w,/_assets/1b07c500.avif 1280w,/_assets/06c8db74.avif 1440w,/_assets/2ec848dd.avif 1600w,/_assets/31ee2c2e.avif 1760w,/_assets/0f5c2530.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/adcfc7bb.webp 160w,/_assets/af8df897.webp 320w,/_assets/33f6cb8b.webp 480w,/_assets/55b8c422.webp 640w,/_assets/70f3e528.webp 800w,/_assets/e25038be.webp 960w,/_assets/b571bf9e.webp 1120w,/_assets/704633f3.webp 1280w,/_assets/ed3091da.webp 1440w,/_assets/734defa3.webp 1600w,/_assets/778047cf.webp 1760w,/_assets/c28c09cc.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/c7698436.jpeg 160w,/_assets/99bd5a94.jpeg 320w,/_assets/28f88e6c.jpeg 480w,/_assets/c5661bf1.jpeg 640w,/_assets/fe9ef0d6.jpeg 800w,/_assets/0fa9a1ef.jpeg 960w,/_assets/a9184ff3.jpeg 1120w,/_assets/853aa3e4.jpeg 1280w,/_assets/6e74d8fd.jpeg 1440w,/_assets/3d2029a4.jpeg 1600w,/_assets/4f9c0176.jpeg 1760w,/_assets/2c539f03.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/2c539f03.jpeg" height="100%" width="100%" alt="Lighthouse score" loading="lazy">
          </picture>
        </p>
        <p>
          <picture style="background-color:rgb(91%,91%,91%);padding-bottom:42.652%">
            <source srcset="/_assets/94e079a3.avif 160w,/_assets/428c80c6.avif 320w,/_assets/7e9334c7.avif 480w,/_assets/d121ab58.avif 640w,/_assets/e61f90e8.avif 800w,/_assets/f8a48a88.avif 960w,/_assets/a404e403.avif 1120w,/_assets/eae112ae.avif 1280w,/_assets/c3519668.avif 1440w,/_assets/1be33f49.avif 1600w,/_assets/accd075a.avif 1760w,/_assets/43c1d473.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/6e7a50a2.webp 160w,/_assets/c2f6dede.webp 320w,/_assets/4cd058e8.webp 480w,/_assets/eb9a16d0.webp 640w,/_assets/e6c38afd.webp 800w,/_assets/bc4ebdf8.webp 960w,/_assets/be992c69.webp 1120w,/_assets/34a68b7e.webp 1280w,/_assets/8fafd076.webp 1440w,/_assets/422619a3.webp 1600w,/_assets/906b3ccb.webp 1760w,/_assets/31ab14c9.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/f5af3f60.jpeg 160w,/_assets/6af2940f.jpeg 320w,/_assets/e2491b6d.jpeg 480w,/_assets/639d02e4.jpeg 640w,/_assets/7ea57918.jpeg 800w,/_assets/82d24671.jpeg 960w,/_assets/a0e6befe.jpeg 1120w,/_assets/43838438.jpeg 1280w,/_assets/de31ba89.jpeg 1440w,/_assets/cab90886.jpeg 1600w,/_assets/3470e2dd.jpeg 1760w,/_assets/9e6d1b94.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/9e6d1b94.jpeg" height="100%" width="100%" alt="Lighthouse score" loading="lazy">
          </picture>
        </p>
        <p>Comparing load times to the old Squarespace site I had with more or less the same layout as the site I built:</p>
        <p>
          <picture style="background-color:rgb(93%,93%,93%);padding-bottom:25.868%">
            <source srcset="/_assets/3fe5398c.avif 160w,/_assets/428fe258.avif 320w,/_assets/91a7d1c6.avif 480w,/_assets/b9668ce3.avif 640w,/_assets/c76c8e80.avif 800w,/_assets/c87d38ec.avif 960w,/_assets/3fd3536e.avif 1120w,/_assets/160dc1c3.avif 1280w,/_assets/1a027eb3.avif 1440w,/_assets/08081c60.avif 1600w,/_assets/174dea50.avif 1760w,/_assets/71da8819.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/3151ddf0.webp 160w,/_assets/493de7d1.webp 320w,/_assets/2ac4b4dc.webp 480w,/_assets/9b6f9ab4.webp 640w,/_assets/7a6e5d80.webp 800w,/_assets/c73279a9.webp 960w,/_assets/6de3dae9.webp 1120w,/_assets/c7a1879c.webp 1280w,/_assets/b2f12f7d.webp 1440w,/_assets/15f18aee.webp 1600w,/_assets/267f5d33.webp 1760w,/_assets/c37b1a82.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/67b300e7.jpeg 160w,/_assets/1af29b66.jpeg 320w,/_assets/41fae31e.jpeg 480w,/_assets/4b5759a0.jpeg 640w,/_assets/dd0723f9.jpeg 800w,/_assets/fe986413.jpeg 960w,/_assets/74ac259b.jpeg 1120w,/_assets/8a75a10c.jpeg 1280w,/_assets/451b08db.jpeg 1440w,/_assets/7a9191d0.jpeg 1600w,/_assets/39d854e0.jpeg 1760w,/_assets/19a9907f.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/19a9907f.jpeg" height="100%" width="100%" alt="Devtools network panel" loading="lazy">
          </picture>
        </p>
        <p>Squarespace site</p>
        <p>
          <picture style="background-color:rgb(93%,93%,93%);padding-bottom:26.538%">
            <source srcset="/_assets/1ceb7590.avif 160w,/_assets/39bf841e.avif 320w,/_assets/a4bf96a5.avif 480w,/_assets/ebf4619e.avif 640w,/_assets/14228d12.avif 800w,/_assets/6dc6c9ca.avif 960w,/_assets/d2b2d459.avif 1120w,/_assets/57788b99.avif 1280w,/_assets/d9e32248.avif 1440w,/_assets/9dc9dc55.avif 1600w,/_assets/521f0f55.avif 1760w,/_assets/29ad2a73.avif 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/avif">
            <source srcset="/_assets/acaf947c.webp 160w,/_assets/2c7d81ea.webp 320w,/_assets/57faf296.webp 480w,/_assets/a3682a19.webp 640w,/_assets/a4d37a1b.webp 800w,/_assets/828fefc2.webp 960w,/_assets/8533778b.webp 1120w,/_assets/a0c803c7.webp 1280w,/_assets/6e9fbc26.webp 1440w,/_assets/02091d79.webp 1600w,/_assets/6da5414a.webp 1760w,/_assets/1c9623cd.webp 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/webp">
            <source srcset="/_assets/22148d7e.jpeg 160w,/_assets/75b7de4b.jpeg 320w,/_assets/7bf79296.jpeg 480w,/_assets/e7ca103d.jpeg 640w,/_assets/3976a120.jpeg 800w,/_assets/209e0b6d.jpeg 960w,/_assets/7a563b63.jpeg 1120w,/_assets/e7829068.jpeg 1280w,/_assets/e3f6e65b.jpeg 1440w,/_assets/9c83d3b8.jpeg 1600w,/_assets/9c2bb046.jpeg 1760w,/_assets/674d7331.jpeg 1920w" sizes="90vw, (min-width: 1280px) 1152px" type="image/jpeg">
            <img src="/_assets/674d7331.jpeg" height="100%" width="100%" alt="Devtools network panel" loading="lazy">
          </picture>
        </p>
        <p>Static site</p>
        <p>It’s a hell of a lot quicker.</p>
        <p><strong><em>UPDATE</em></strong>: I remade this site in NuxtJS recently so what you’re seeing here isn’t build from scratch anymore like the article suggests.</p>

      </article>
    </main>

    <!-- Footer Component -->

    <footer class="footer">
      <nav>
        <div class="footer_content">
          <div class="footer_content-links">

            <a href="mailto:dbell@btr.pm" rel="noreferrer" target="_blank">
              <img src="/_assets/images/icons/mail.svg" height="24" width="24" alt="Email">
            </a>

            <a href="https://www.linkedin.com/in/dashbell" rel="noreferrer" target="_blank">
              <img src="/_assets/images/icons/linkedin.svg" height="24" width="24" alt="Linkedin">
            </a>

            <a href="http://instagram.com/dash.bell" rel="noreferrer" target="_blank">
              <img src="/_assets/images/icons/instagram.svg" height="24" width="24" alt="Instagram">
            </a>

            <a href="https://github.com/x8BitRain" rel="noreferrer" target="_blank">
              <img src="/_assets/images/icons/github.svg" height="24" width="24" alt="GitHub">
            </a>

            <a href="https://codepen.io/BitRain" rel="noreferrer" target="_blank">
              <img src="/_assets/images/icons/codepen.svg" height="24" width="24" alt="CodePen">
            </a>

          </div>
        </div>
      </nav>
    </footer>

    <!-- CSS included in every page using this layout -->

    <!-- JS included in every page using this layout -->

    <!-- Capture all JS included in this page -->
    <!-- Defer page script -->
    <script src="/_assets/c119d979.js" defer=""></script>

    <!-- Append everything inside to head, see README for more information -->

  </body>
</html>